(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{347:()=>{},1580:(e,t,l)=>{"use strict";l.d(t,{N:()=>o,g:()=>s});var a=l(5155),n=l(2115);let r=(0,n.createContext)(void 0);function s(e){let{children:t}=e,[l,s]=(0,n.useState)(0);return(0,a.jsx)(r.Provider,{value:{totalClicks:l,incrementarTotalClicks:()=>s(e=>e+1)},children:t})}function o(){let e=(0,n.useContext)(r);if(!e)throw Error("useClickContext must be used within ClickProvider");return e}},2682:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(5155),n=l(2115);function r(e){let{tarjetas:t,manejarClickTarjeta:l}=e;return(0,a.jsx)("div",{className:"grid grid-cols-6 gap-4 justify-center",children:t.map(e=>(0,a.jsx)("div",{className:"relative w-[120px] h-[120px] cursor-pointer group perspective",onClick:()=>l(e.id),children:(0,a.jsxs)("div",{className:"relative w-full h-full transition-transform duration-500 transform ".concat(e.volteada||e.encontrada?"rotate-y-180":""),children:[(0,a.jsx)("div",{className:"absolute w-full h-full bg-gray-300 flex items-center justify-center rounded-lg shadow-md",children:(0,a.jsx)("div",{className:"h-full w-full bg-gray-400 rounded-lg"})}),(0,a.jsx)("div",{className:"absolute w-full h-full bg-white flex items-center justify-center rounded-lg shadow-md transform rotate-y-180",children:(0,a.jsx)("img",{src:e.imagen,alt:e.nombre,className:"w-full h-full object-contain"})})]})},e.id))})}l(347);var s=l(1580);function o(){let{totalClicks:e,incrementarTotalClicks:t}=(0,s.N)(),[l,o]=(0,n.useState)([]),[i,d]=(0,n.useState)([]),[c,u]=(0,n.useState)(0),[m,f]=(0,n.useState)(0),[h,x]=(0,n.useState)(!1),[v,p]=(0,n.useState)(null);return(0,n.useEffect)(()=>{!async function(){try{let e=Array.from({length:9},()=>Math.floor(898*Math.random())+1),t=[];for(let l=0;l<e.length;l++){let a=e[l],n=await fetch("https://pokeapi.co/api/v2/pokemon/".concat(a)),r=await n.json();t.push({id:r.id,nombre:r.name,imagen:r.sprites.front_default})}let l=[...t,...t].map((e,t)=>({...e,id:t+1,volteada:!1,encontrada:!1}));o(function(e){let t=[...e];for(let e=t.length-1;e>0;e--){let l=Math.floor(Math.random()*(e+1));[t[e],t[l]]=[t[l],t[e]]}return t.map(e=>{var t,l;return{...e,volteada:null!=(t=e.volteada)&&t,encontrada:null!=(l=e.encontrada)&&l}})}(l))}catch(e){console.error("No se ha podido sacar al pokemon de la API",e)}}()},[]),(0,n.useEffect)(()=>{if(h&&m>0){let e=setInterval(()=>{f(e=>e-1)},1e3);return()=>clearInterval(e)}h&&0===m&&!l.every(e=>e.encontrada)&&(p("Se acab\xf3 el tiempo. Int\xe9ntalo de nuevo!"),x(!1))},[h,m]),(0,n.useEffect)(()=>{h&&l.every(e=>e.encontrada)&&(p("Felicidades! Has ganado el juego"),x(!1))},[h,l]),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Juego de Memoria Pok\xe9mon"}),v&&(0,a.jsx)("div",{className:"text-center mb-4 text-xl font-semibold text-red-500",children:v}),(0,a.jsx)("div",{className:"text-center mb-4",children:(0,a.jsx)("button",{onClick:()=>{x(!0),f(40),u(0),p(null),o(e=>e.map(e=>({...e,volteada:!1,encontrada:!1})))},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"INICIAR"})}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsxs)("p",{className:"text-xl font-semibold",children:["Tiempo restante: ",m,"s"]}),(0,a.jsxs)("p",{className:"text-xl font-semibold",children:["Puntos: ",c]}),(0,a.jsxs)("p",{className:"text-xl font-semibold",children:["Total de clics: ",e]})]}),(0,a.jsx)(r,{tarjetas:l,manejarClickTarjeta:e=>{if(!h||m<=0)return;t();let a=[];for(let t=0;t<l.length;t++){let n=l[t];n.id===e?a.push({...n,volteada:!0}):a.push(n)}o(a);let n=[...i,e];if(d(n),2===n.length){let[e,t]=n,a=l.find(t=>t.id===e),r=l.find(e=>e.id===t);(null==a?void 0:a.nombre)===(null==r?void 0:r.nombre)?(u(e=>e+1),o(l=>{let a=[];for(let n=0;n<l.length;n++){let r=l[n];r.id===e||r.id===t?a.push({...r,encontrada:!0}):a.push(r)}return a})):setTimeout(()=>{o(l=>{let a=[];for(let n=0;n<l.length;n++){let r=l[n];r.id===e||r.id===t?a.push({...r,volteada:!1}):a.push(r)}return a})},750),d([])}}})]})}},3078:(e,t,l)=>{Promise.resolve().then(l.bind(l,2682))}},e=>{var t=t=>e(e.s=t);e.O(0,[690,441,684,358],()=>t(3078)),_N_E=e.O()}]);